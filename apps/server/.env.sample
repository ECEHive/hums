# =============================================================================
# HUMS Server Development Environment Configuration
# =============================================================================

# This is for the development environment.
# Copy this file to .env and fill in your values
# DO NOT commit .env to version control!

# =============================================================================
# General Configuration
# =============================================================================

# Environment mode: development, production, or test
NODE_ENV=development

# Server port
PORT=44830

# Timezone
TZ=America/New_York

# =============================================================================
# Database Configuration
# =============================================================================

# PostgreSQL connection URL
# In dev container, this is automatically set by Docker Compose
# Format: postgresql://username:password@host:port/database
DATABASE_URL=postgresql://postgres:postgres@localhost:5432/hums

# =============================================================================
# Authentication Configuration
# =============================================================================

# Auth secret (should be a long random string, used to sign auth tokens)
# Generate with: openssl rand -base64 32
AUTH_SECRET=your_long_random_secret_string_here
ICAL_SECRET=your_ical_secret_string_here

# Comma-separated list of system administrator usernames
SYSTEM_USERS=admin,user1,user2

# -----------------------------------------------------------------------------
# OPTION 1: Direct CAS Authentication (AUTH_PROVIDER=CAS)
# -----------------------------------------------------------------------------
# Use this when the application can directly reach the CAS server
# Uncomment this block and comment out OPTION 2 below

AUTH_PROVIDER=CAS
AUTH_CAS_SERVER=https://sso.gatech.edu
AUTH_CAS_LOGIN_URL=https://sso.gatech.edu/cas/login
AUTH_CAS_VALIDATE_URL=https://sso.gatech.edu/cas/serviceValidate
AUTH_CAS_LOGOUT_URL=https://sso.gatech.edu/cas/logout

# -----------------------------------------------------------------------------
# OPTION 2: Proxied CAS Authentication (AUTH_PROVIDER=CAS_PROXIED)
# -----------------------------------------------------------------------------
# Use this when using a proxy for CAS authentication
# Uncomment this block and comment out OPTION 1 above

# AUTH_PROVIDER=CAS_PROXIED
# AUTH_CAS_SERVER=https://sso.gatech.edu
# AUTH_CAS_LOGIN_URL=https://sso.gatech.edu/cas/login
# AUTH_CAS_VALIDATE_URL=https://sso.gatech.edu/cas/serviceValidate
# AUTH_CAS_LOGOUT_URL=https://sso.gatech.edu/cas/logout
# AUTH_CAS_PROXY_URL=https://proxy.gatech.edu/cas/login

# =============================================================================
# User Data Provider Configuration
# =============================================================================

# Choose ONE of the following data provider configurations:

# -----------------------------------------------------------------------------
# OPTION 1: Legacy Provider (DATA_PROVIDER=legacy)
# -----------------------------------------------------------------------------
# Uses LDAP for user lookups
# Uncomment this block and comment out OPTION 2 below

DATA_PROVIDER=legacy
LDAP_HOST=whitepages.gatech.edu
LDAP_BASE_DN=dc=whitepages,dc=gatech,dc=edu
FALLBACK_EMAIL_DOMAIN=gatech.edu

# -----------------------------------------------------------------------------
# OPTION 2: BuzzAPI Provider (DATA_PROVIDER=buzzapi)
# -----------------------------------------------------------------------------
# Uses Georgia Tech's BuzzAPI for user lookups
# Uncomment this block and comment out OPTION 1 above

# DATA_PROVIDER=buzzapi
# BUZZAPI_BASE_URL=https://buzzapi.gatech.edu
# BUZZAPI_USER=your_service_account
# BUZZAPI_PASSWORD=your_password
# FALLBACK_EMAIL_DOMAIN=gatech.edu

# =============================================================================
# Email Provider Configuration
# =============================================================================

# Choose ONE of the following email provider configurations:

# Common email settings (required for all providers)
EMAIL_FROM_ADDRESS=noreply@gatech.edu
EMAIL_FROM_NAME=HUMS

# -----------------------------------------------------------------------------
# OPTION 1: Amazon SES (EMAIL_PROVIDER=SES)
# -----------------------------------------------------------------------------
# Uses Amazon Simple Email Service for sending emails
# Uncomment this block and comment out OPTIONS 2 and 3 below

# EMAIL_PROVIDER=SES
# EMAIL_SES_REGION=us-east-1
# # Optional: Leave blank to use IAM role credentials
# EMAIL_SES_ACCESS_KEY_ID=your_access_key_id
# EMAIL_SES_SECRET_ACCESS_KEY=your_secret_access_key

# -----------------------------------------------------------------------------
# OPTION 2: SMTP (EMAIL_PROVIDER=SMTP)
# -----------------------------------------------------------------------------
# Uses generic SMTP server for sending emails (e.g., Gmail, Office 365)
# Uncomment this block and comment out OPTIONS 1 and 3

# EMAIL_PROVIDER=SMTP
# EMAIL_SMTP_HOST=smtp.gmail.com
# EMAIL_SMTP_PORT=587
# EMAIL_SMTP_SECURE=false
# # Optional: Leave blank for unauthenticated SMTP
# EMAIL_SMTP_USER=your_email@gmail.com
# EMAIL_SMTP_PASSWORD=your_app_password

# -----------------------------------------------------------------------------
# OPTION 3: None (EMAIL_PROVIDER=NONE)
# -----------------------------------------------------------------------------
# Disables email sending entirely (logs only)
# Useful for testing environments where email sending is not desired
# Uncomment this block to disable email sending

# EMAIL_PROVIDER=NONE

# =============================================================================
# Client Configuration
# =============================================================================

# Base URL of the client application (no trailing slash)
# Used for generating links in emails and redirects
CLIENT_BASE_URL=http://localhost:44831
